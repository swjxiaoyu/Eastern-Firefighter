import { createApp } from 'vue'\nimport './style.css'\nimport App from './App.vue'\nimport { createPinia } from 'pinia'\nimport router from './router'\nimport { setupGlobalErrorHandler } from '@/utils/errorHandler'\n\nconst app = createApp(App)\nconst pinia = createPinia()\napp.use(pinia)\n\n// 启动时刷新角色\nimport { useAuthStore } from '@/stores/auth'\nconst auth = useAuthStore()\nif (auth.token) auth.refreshProfile()\n\n// 设置全局错误处理\nsetupGlobalErrorHandler()\n\napp.use(router)\napp.mount('#app')